<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Modifying the document. Task 7</title>
    <style>
        table {
            border-collapse: collapse;
        }

        td,
        th {
            border: 1px solid black;
            padding: 3px;
            text-align: center;
        }

        th {
            font-weight: bold;
            background-color: #E6E6E6;
        }
    </style>
</head>

<body>
    <h1>
        Document
    </h1>
    <h2>
        Modifying the document
    </h2>
    <p>
        7. Напишите функцию createCalendar(elem, year, month). <br />
        Вызов функции должен создать календарь для заданного месяца month в году year и вставить его в elem. <br />
        Календарь должен быть таблицей, где неделя – это &lt;tr&gt;, а день – это &lt;td&gt;. У таблицы должен быть
        заголовок с названиями дней недели, каждый день – &lt;th&gt;, первым днём недели должен быть понедельник.
    </p>
    <p>
        Результат:
    </p>
    <div class="calendar">

    </div>
    <script>
        const calendar = document.querySelector('.calendar');
        const createCalendar = (elem, year, month) => {
            const getNumDay = (date) => {
                let day = date.getDay();
                if (day == 0) {
                    return day = 6;
                } else {
                    return day - 1;
                }
            }

            const mon = month - 1;
            const date = new Date(year, mon);
            let table = '<table><tr><th>пн</th><th>вт</th><th>ср</th><th>чт</th><th>пт</th><th>сб</th><th>вс</th></tr><tr>';

            for (let i = 0; i < getNumDay(date); i++) {
                table += '<td></td>';
            }

            while (date.getMonth() == mon) {
                table += '<td>' + date.getDate() + '</td>';
                if (getNumDay(date) == 6) {
                    table += '</tr><tr>';
                }
                date.setDate(date.getDate() + 1);
            }

            if (getNumDay(date) != 0) {
                for (let i = getNumDay(date); i < 7; i++) {
                    table += '<td></td>';
                }
            }

            table += '</tr></table>';

            elem.innerHTML = table;

        }
        createCalendar(calendar, 2012, 9);

    </script>
</body>

</html>